
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro|Source+Sans+Pro:300,400,400i,700" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://note.koko.guru/theme/stylesheet/style.min.css">

  <link rel="stylesheet" type="text/css" href="https://note.koko.guru/theme/pygments/github.min.css">
  <link rel="stylesheet" type="text/css" href="https://note.koko.guru/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="https://note.koko.guru/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="https://note.koko.guru/theme/font-awesome/css/solid.css">

    <link href="https://note.koko.guru/static/custom-style.css" rel="stylesheet">



    <link rel="shortcut icon" href="/static/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/static/favicon.ico" type="image/x-icon">



<meta name="author" content="kokokuo" />
<meta name="description" content="開始學習使用終端機（ Terminal ），但是預設的 Terminal 只有兩種顏色，通常都是黑白配色，而 Mac 的終端機雖然可以有編輯配色，但是依然還是很單調，所以這邊要來筆記一下，如何更改配色。" />
<meta name="keywords" content="Mac, Terminal">

<meta property="og:site_name" content="koko's Note"/>
<meta property="og:title" content="Mac - 使 Mac Terminal 有顏色 ( Prompt 與 ls )"/>
<meta property="og:description" content="開始學習使用終端機（ Terminal ），但是預設的 Terminal 只有兩種顏色，通常都是黑白配色，而 Mac 的終端機雖然可以有編輯配色，但是依然還是很單調，所以這邊要來筆記一下，如何更改配色。"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="https://note.koko.guru/posts/mac-terminal-bash-color"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2015-01-06 00:00:00+08:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="https://note.koko.guru/author/kokokuo.html">
<meta property="article:section" content="編輯器"/>
<meta property="article:tag" content="Mac"/>
<meta property="article:tag" content="Terminal"/>
<meta property="og:image" content="/static/koko-logo.png">

  <title>koko's Note &ndash; Mac - 使 Mac Terminal 有顏色 ( Prompt 與 ls )</title>

</head>
<body>
  <aside>
    <div>
      <a href="https://note.koko.guru">
        <img src="/static/koko-logo.png" alt="koko's Note" title="koko's Note">
      </a>
      <h1><a href="https://note.koko.guru">koko's Note</a></h1>

<p>
Code / Web / Architecture
<br/>
<br/>
你需要非常多的努力
<br/>
才能看起來毫不費力
</p>
<section id=sidebar_tags>
  <dl>
      <dt><a href='https://note.koko.guru/tag/python'>Python (22)</a></dt>
      <dt><a href='https://note.koko.guru/tag/mac'>Mac (16)</a></dt>
      <dt><a href='https://note.koko.guru/tag/pelican'>Pelican (6)</a></dt>
      <dt><a href='https://note.koko.guru/tag/homebrew'>Homebrew (4)</a></dt>
      <dt><a href='https://note.koko.guru/tag/sublime'>Sublime (4)</a></dt>
      <dt><a href='https://note.koko.guru/tag/github'>Github (3)</a></dt>
      <dt><a href='https://note.koko.guru/tag/python3'>Python3 (3)</a></dt>
      <dt><a href='https://note.koko.guru/tag/static-site'>Static Site (3)</a></dt>
      <dt><a href='https://note.koko.guru/tag/pyqt'>PyQt (3)</a></dt>
      <dt><a href='https://note.koko.guru/tag/poetry'>poetry (2)</a></dt>
      <dt><a href='https://note.koko.guru/tag/pyenv'>pyenv (2)</a></dt>
    <dt><a id="tags_mores" href='https://note.koko.guru/tags.html'>...more</a></dt>
  </dl>
</section>

      <nav>
        <ul class="list">

        </ul>
      </nav>

      <ul class="social">
          <li>
            <a  class="sc-github" href="https://github.com/kokokuo" target="_blank">
            <i class="fab fa-github">
            </i>
          </a></li>
          <li>
            <a  class="sc-linkedin" href="https://www.linkedin.com/in/easonkuo" target="_blank">
            <i class="fab fa-linkedin">
            </i>
          </a></li>
      </ul>
    </div>


  </aside>
  <main>

    <nav>
      <a href="https://note.koko.guru">    Home
</a>

      <a href="/pages/about.html">關於我</a>
      <a href="/archives.html">文章列表</a>
      <a href="/pages/software-development.html">軟體開發</a>
      <a href="/pages/financial-investment.html">理財投資</a>


    </nav>

<article class="single">
  <header>
      
    <h1 id="mac-terminal-bash-color">Mac - 使 Mac Terminal 有顏色 ( Prompt 與 ls )</h1>
    <p>
          Posted on Tue 06 January 2015 in <a href="https://note.koko.guru/category/bian-ji-qi.html">編輯器</a>


    </p>
  </header>


  <div>
    <h1>前言</h1>
<p>開始學習使用終端機（ Terminal ），但是預設的 Terminal 只有兩種顏色，通常都是黑白配色，而 Mac 的終端機雖然可以有編輯配色，但是依然還是很單調，所以這邊要來筆記一下，如何更改配色。</p>
<h1>使用現有的配色方案－以 solarized 為例</h1>
<p>在網路上已經有許多提供給終端機的配色方案，而這邊以算是滿 popular 的 <code>solarized</code> 為例，介紹如何安裝網路上提供的現有配色方案。</p>
<h2>1. 下載 solarized 配置檔</h2>
<p>首先我們下載 <a href="http://ethanschoonover.com/solarized">solarized</a> 配置檔並解壓縮後，會看到 <code>solarized</code> 提供了許多可以配置的環境：</p>
<p><img src="../images/20150106-mac-terminal-bash-color/solarized-files.png" alt="solarized-files" width="480px"/></p>
<h2>2. 執行配色檔案</h2>
<p>在上圖你會看到 <code>solarized/osx-terminal.app-colors-solarized</code> 這個目錄下有一些檔案。如果是使用 Terminal，則直接點擊 <code>Solarized Dark ansi.terminal</code> 與 <code>Solarized Light ansi.terminal</code>，透過安裝配色檔案到 Terminal 中即可完成了。</p>
<p><img src="../images/20150106-mac-terminal-bash-color/terminal-solarized.png" alt="terminal-solarized" width="480px"/></p>
<h1>修改執行 <code>ls</code> 指令時顯示的配色</h1>
<p>如果我們希望顯示的資料夾或檔案依據不同類型而有配色時，那我們便需要對 <code>ls</code> 這個指令做修改。</p>
<h2>1. 啟動 <code>ls</code> 配色功能</h2>
<p>首先在 Home 中開啟 <code>.bash_profile</code> ( 如果沒有則新建 )
在檔案中加入以下此行：</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span> <span class="nv">CLICOLOR</span><span class="o">=</span><span class="nb">true</span>
</code></pre></div>

<p>儲存後，再重新開啟 Terminal 打入 <code>ls</code> 便會發現顏色不同。</p>
<h2>2. 客製化 <code>ls</code></h2>
<p>不過上述設定 <code>CLICOLOR</code> 是開啟預設的配色，如果要客製化怎麼辦？ 那麼我們就可以透過 <code>LSCOLORS</code> 來手動修改，如下：</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span> <span class="nv">LSCOLORS</span><span class="o">=</span><span class="s2">&quot;fxexbxdxcxegedabagacad&quot;</span>
</code></pre></div>

<p>不過上述這很長的字串是什麼呀？ 這是 Terminal 的 <code>ls</code> 指令配色格式， <code>LSCOLORS</code> 需要照著順序設定顏色，依序是：</p>
<ol>
<li>directory</li>
<li>symbolic link</li>
<li>socket</li>
<li>pipe</li>
<li>executable</li>
<li>block special</li>
<li>character special</li>
<li>executable with setuid bit set</li>
<li>executable with setgid bit set</li>
<li>directory writable to others, with sticky bit</li>
<li>directory writable to others, without sticky bit</li>
</ol>
<p>顏色的對應值如下，例如 <code>a</code> 表示黑色，<code>b</code> 表示紅色，以此類推。</p>
<ul>
<li>a = black</li>
<li>b = red</li>
<li>c = green</li>
<li>d = brown</li>
<li>e = blue</li>
<li>f = magenta</li>
<li>g = cyan</li>
<li>h = light grey</li>
<li>A = bold black, usually shows up as dark grey</li>
<li>B = bold red</li>
<li>C = bold green</li>
<li>D = bold brown, usually shows up as yellow</li>
<li>E = bold blue</li>
<li>F = bold magenta</li>
<li>G = bold cyan</li>
<li>H = bold light grey; looks like bright white</li>
<li>x = default foreground or background</li>
</ul>
<p>而因為每種類型文件都有兩種顏色 - <strong>前景色</strong>與<strong>背景色</strong>，所以上述這串 <code>LSCOLORS</code> 的設定如果數算下來會是剛好 22 個字元長度。</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span> <span class="nv">LSCOLORS</span><span class="o">=</span><span class="s2">&quot;fxexbxdxcxegedabagacad&quot;</span>
</code></pre></div>

<p>像是的開頭 <code>fx</code> 表示目錄的前景色是 <strong>magenta</strong>，背景底色是原先 Terminal 的底色以此類推，設定完後如下圖：</p>
<p><img src="../images/20150106-mac-terminal-bash-color/custom-ls-color.png" alt="custom-ls-color" width="480px"/></p>
<p>另外，如果覺得這長串的配色很難設定，也可以參考此<a href="http://geoff.greer.fm/lscolors/">網站</a>，透過所見即所得來協助產生 <code>LSCOLORS</code> 的配色字串。</p>
<h1>顯示執行 <code>ls</code> 時，各種檔案目錄所夾帶的額外訊息</h1>
<p>其實也就是預設包含 <code>-F</code> 指令，使其輸入 <code>ls</code> 時，如果是目錄可以看到 <strong>slash(/)</strong>，如果是執行檔可以看到 <strong>(*)</strong> 等功能，一樣編輯 <code>.bash_profile</code> 並加入：</p>
<div class="highlight"><pre><span></span><code><span class="nb">alias</span> <span class="nv">ls</span><span class="o">=</span><span class="s1">&#39;ls -Fh&#39;</span>
</code></pre></div>

<p>最後重新開啟 Terminal 即可，如下</p>
<p><img src="../images/20150106-mac-terminal-bash-color/custom-ls-color-sign.png" alt="custom-ls-color-sign" width="480px"/></p>
<h1>修改 Termnial bash Prompt 的顯示內容與順序</h1>
<p>這部分是可以用來修改 Terminal 的 Prompt 顏色與順序，原先如下圖：</p>
<p><img src="../images/20150106-mac-terminal-bash-color/default-prompt.png" alt="default-prompt" width="320px"/></p>
<p>首先我們可以改變顯示的順序與規則，例如我要修改成下圖這樣的排列：</p>
<p><img src="../images/20150106-mac-terminal-bash-color/custom-prompt.png" alt="custom-prompt" width="320px"/></p>
<p>我們要從修改 <code>.bash_profile</code> 檔案動刀，開啟此檔案並編輯加入此行：</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span> <span class="nv">PS1</span><span class="o">=</span><span class="s1">&#39;[\u@\h:\w] $ &#39;</span>
</code></pre></div>

<p>完成後再重新開啟 Terminal 即會完成。</p>
<p>其中這些符號代表的意思如下：</p>
<ul>
<li><code>PS1</code>: 主要的 Prompt，其他還有 <code>PS2</code>、<code>PS3</code> 與 <code>PS4</code></li>
<li><code>\u</code>: 代表現在操作的使用者名稱</li>
<li><code>\h</code>: 主機名稱</li>
<li><code>\w</code>: 表示目前所在的目錄</li>
</ul>
<p>至於 <code>@</code>, <code>:</code>, <code>$</code> 還有 <code>[]</code>只是用來分隔使用者名稱、主機名稱與目錄用的符號而已。
更多的參數如下圖，來源 <a href="https://wiki.archlinux.org/index.php/Color_Bash_Prompt">Color Bash Prompt</a></p>
<p><img src="../images/20150106-mac-terminal-bash-color/prompt-parameter.png" alt="prompt-parameter" width="640px"/></p>
<h1>修改 Prompt 的顏色</h1>
<p>而修改顏色的部分，則是在上述的參數在另外補上顏色參數：</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span> <span class="nv">PS1</span><span class="o">=</span><span class="s1">&#39;[\[\e[0;96m\]\u\[\e[0m\]@\[\e[0;92m\]\h\e[0m\]:\w] \e[0;93m\]$\[\e[0m\] &#39;</span>
</code></pre></div>

<p>使用的顏色有：</p>
<ul>
<li>Cyan: <code>\e[0;96m</code></li>
<li>Green: <code>\e[0;92m</code></li>
<li>Yellow: <code>\e[0;93m</code></li>
<li>Text Rest: <code>\e[0m</code></li>
</ul>
<p>此外要使用顏色需要在上述的顏色符號前後加上 <code>[</code> 與 <code>]</code> 來作為一個標記，所以如果要在 <code>\u</code> 也就是操作使用者字串上加上顏色，會變成如下的格式 :</p>
<div class="highlight"><pre><span></span><code><span class="se">\[\e</span><span class="o">[</span><span class="m">0</span><span class="p">;</span>96m<span class="se">\]\u</span>
</code></pre></div>

<p>但是上述還會造成一個問題，就是 Cyan 這個顏色會影響到 <code>＠</code> 符號，因為顏色會被繼續使用下去，此時便會需要使用到 Text Rest 來重置。
如果你只想要某個符號只有 Cyan，當你配好顏色後要記得在後面補上 <code>\e[0m</code>，同時也要在前後加上 <code>[</code> 與 <code>]</code> 變成所以最後結果會是：</p>
<ul>
<li><code>\u</code> 變成 =&gt; <code>[\e[0;96m]\u[\e[0m]</code></li>
<li><code>\h</code> 變成=&gt; <code>[\e[0;92m]\h\e[0m]</code></li>
<li><code>$</code> 變成=&gt; <code>\e[0;93m]$[\e[0m]</code></li>
</ul>
<p>其他部分保持不變。</p>
<p><img src="../images/20150106-mac-terminal-bash-color/custom-ls-color-and-prompt-final.png" alt="custom-ls-color-and-prompt-final" width="480px"/></p>
<p>完成。</p>
<p>更多的顏色配色參數如下 ( 來源 <a href="https://href.li/?https://wiki.archlinux.org/index.php/Color_Bash_Prompt">Color Bash Prompt</a> ):</p>
<p><img src="../images/20150106-mac-terminal-bash-color/prompt-color-parameter-list-1.png" alt="prompt-color-parameter-list-1" width="480px"/></p>
<p><br/></p>
<p><img src="../images/20150106-mac-terminal-bash-color/prompt-color-parameter-list-2.png" alt="prompt-color-parameter-list-2" width="480px"/></p>
<p><br/></p>
<h1>參考資料</h1>
<ol>
<li><a href="http://www.vpsee.com/2013/09/use-the-solarized-color-theme-on-mac-os-x-terminal/">在 Mac OS X 终端里使用 Solarized 配色方案</a></li>
<li><a href="http://sodahau.logdown.com/posts/18879-mac-ls">Mac 讓終端機 ls 有顏色</a></li>
<li><a href="http://osxdaily.com/2013/02/05/improve-terminal-appearance-mac-os-x/">Simple Tricks to Improve the Terminal Appearance in Mac OS X</a></li>
<li><a href="http://www.cyberciti.biz/tips/howto-linux-unix-bash-shell-setup-prompt.html">How to: Change / Setup bash custom prompt (PS1)</a></li>
<li><a href="https://wiki.archlinux.org/index.php/Color_Bash_Prompt">Color Bash Prompt</a></li>
</ol>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="https://note.koko.guru/tag/mac">Mac</a>
      <a href="https://note.koko.guru/tag/terminal">Terminal</a>
    </p>
  </div>





</article>

    <footer>
<p>&copy; kokokuo 2019</p>
<p>    Powered by <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a>
</p>    </footer>
  </main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " koko's Note ",
  "url" : "https://note.koko.guru",
  "image": "/static/koko-logo.png",
  "description": ""
}
</script>

</body>
</html>