
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro|Source+Sans+Pro:300,400,400i,700" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://note.koko.guru/theme/stylesheet/style.min.css">

  <link rel="stylesheet" type="text/css" href="https://note.koko.guru/theme/pygments/github.min.css">
  <link rel="stylesheet" type="text/css" href="https://note.koko.guru/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="https://note.koko.guru/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="https://note.koko.guru/theme/font-awesome/css/solid.css">

    <link href="https://note.koko.guru/static/custom-style.css" rel="stylesheet">



    <link rel="shortcut icon" href="/static/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/static/favicon.ico" type="image/x-icon">



<meta name="author" content="kokokuo" />
<meta name="description" content="當你的 Mac 系統要同時使用到 Python 2 與 Python 3 的專案時，就會遇到需要同時安裝多個 Python 版本在電腦中，可是此時要如何設定透過指令啟動不同的版本，以下我們以 Python 2.7.15 與 Python 3.6.5 為例子，並舉出兩個常見的 Python 2 與 Python 3 例子。" />
<meta name="keywords" content="Python2, Mac, Python3, Python">

<meta property="og:site_name" content="koko's Note"/>
<meta property="og:title" content="Python2 與 Python 3 共存的設定 (以 Mac 為例）"/>
<meta property="og:description" content="當你的 Mac 系統要同時使用到 Python 2 與 Python 3 的專案時，就會遇到需要同時安裝多個 Python 版本在電腦中，可是此時要如何設定透過指令啟動不同的版本，以下我們以 Python 2.7.15 與 Python 3.6.5 為例子，並舉出兩個常見的 Python 2 與 Python 3 例子。"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="https://note.koko.guru/posts/python2-python3-run-on-mac"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2019-03-12 00:00:00+08:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="https://note.koko.guru/author/kokokuo.html">
<meta property="article:section" content="Python"/>
<meta property="article:tag" content="Python2"/>
<meta property="article:tag" content="Mac"/>
<meta property="article:tag" content="Python3"/>
<meta property="article:tag" content="Python"/>
<meta property="og:image" content="/static/koko-logo.png">

  <title>koko's Note &ndash; Python2 與 Python 3 共存的設定 (以 Mac 為例）</title>

</head>
<body>
  <aside>
    <div>
      <a href="https://note.koko.guru">
        <img src="/static/koko-logo.png" alt="koko's Note" title="koko's Note">
      </a>
      <h1><a href="https://note.koko.guru">koko's Note</a></h1>

<p>
Code / Web / Architecture
<br/>
<br/>
你需要非常多的努力
<br/>
才能看起來毫不費力
</p>
<section id=sidebar_tags>
  <dl>
      <dt><a href='https://note.koko.guru/tag/python'>Python (20)</a></dt>
      <dt><a href='https://note.koko.guru/tag/mac'>Mac (13)</a></dt>
      <dt><a href='https://note.koko.guru/tag/pelican'>Pelican (6)</a></dt>
      <dt><a href='https://note.koko.guru/tag/sublime'>Sublime (4)</a></dt>
      <dt><a href='https://note.koko.guru/tag/github'>Github (3)</a></dt>
      <dt><a href='https://note.koko.guru/tag/python3'>Python3 (3)</a></dt>
      <dt><a href='https://note.koko.guru/tag/static-site'>Static Site (3)</a></dt>
      <dt><a href='https://note.koko.guru/tag/pyqt'>PyQt (3)</a></dt>
      <dt><a href='https://note.koko.guru/tag/python2'>Python2 (2)</a></dt>
      <dt><a href='https://note.koko.guru/tag/pipenv'>Pipenv (2)</a></dt>
      <dt><a href='https://note.koko.guru/tag/jsp'>JSP (2)</a></dt>
    <dt><a id="tags_mores" href='https://note.koko.guru/tags.html'>...more</a></dt>
  </dl>
</section>

      <nav>
        <ul class="list">

        </ul>
      </nav>

      <ul class="social">
          <li>
            <a  class="sc-github" href="https://github.com/kokokuo" target="_blank">
            <i class="fab fa-github">
            </i>
          </a></li>
          <li>
            <a  class="sc-linkedin" href="https://www.linkedin.com/in/easonkuo" target="_blank">
            <i class="fab fa-linkedin">
            </i>
          </a></li>
      </ul>
    </div>


  </aside>
  <main>

    <nav>
      <a href="https://note.koko.guru">    Home
</a>

      <a href="/pages/about.html">關於我</a>
      <a href="/archives.html">文章列表</a>
      <a href="/pages/software-development.html">軟體開發</a>
      <a href="/pages/financial-investment.html">理財投資</a>


    </nav>

<article class="single">
  <header>
      
    <h1 id="python2-python3-run-on-mac">Python2 與 Python 3 共存的設定 (以 Mac 為例）</h1>
    <p>
          Posted on Tue 12 March 2019 in <a href="https://note.koko.guru/category/python.html">Python</a>


    </p>
  </header>


  <div>
    <h1>前言</h1>
<hr>
<p>當你的 Mac 系統要同時使用到 Python 2 與 Python 3 的專案時，就會遇到需要同時安裝多個 Python 版本在電腦中，可是此時要如何設定透過指令啟動不同的版本，以下我們以 <strong>Python 2.7.15</strong> 與 <strong>Python 3.6.5</strong> 為例子，並舉出兩個常見的 Python 2 與 Python 3 例子。</p>
<h1>解決方法</h1>
<hr>
<h2>例子一：Mac 內建 Python 2 與 安裝 Homebrew 的 Python 3</h2>
<p>若先前沒有以 Homebrew 安裝 Python 2 的話，那麼當下安裝 Python 3 時，如果從 Terminal 中直接輸入 <code>python</code>，如下：</p>
<div class="highlight"><pre><span></span><code>$&gt; python 
</code></pre></div>

<p>會出現的是內建的 Mac Python 2.7：</p>
<p><img src="../images/20190312-python2-python3-run-on-mac/1-python2-command.png" alt="1-python2-command"/></p>
<p>這是為何呢？</p>
<p>我們來查看 <code>/usr/local/bin</code> 目錄下，你會發現並沒有  Python 3 提供的  <code>python</code> 可執行檔，而只有 <code>python3</code> 執行檔，因此當你輸入 <code>python</code> 時， Mac 因為來到 <code>/usr/local/bin</code> 目錄下沒有找到 <code>python</code> 可執行檔，才會保持原先的狀態，近一步往下一個位置找，並找到內建的版本，直接使用內建的 python 2.7。</p>
<p>只有當輸入 <code>python3</code>，你才會顯示 Homebrew 的 Python3.6.5</p>
<div class="highlight"><pre><span></span><code>$&gt; python3
</code></pre></div>

<p><img src="../images/20190312-python2-python3-run-on-mac/2-python3-command.png" alt="2-python3-command"/></p>
<p>如果想要讓 Mac Terminal 在輸入 <code>python</code> 指令時，會自動開啟 Homebrew 安裝的 Python 3，解決辦法是設定 <code>/usr/local/opt</code> 下的 Homebrew Python 3 來源到系統環境變數前，使 PATH 先讀到 Homebrew 的 Python3：</p>
<p><img src="../images/20190312-python2-python3-run-on-mac/3-python3-system-path-setting.png" alt="3-python3-system-path-setting" width="480px"/></p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;/usr/local/opt/python/libexec/bin:</span><span class="nv">$PATH</span><span class="s2">&quot;</span>
</code></pre></div>

<p>完成後重開 Terminal 或透過 <code>source</code> 執行，即可成功，如下圖。</p>
<p><img src="../images/20190312-python2-python3-run-on-mac/4-python3-command.png" alt="4-python3-command"/></p>
<p>到此，可以透過 <code>python3</code> 或設定好的 <code>python</code> 指令啟動 Python 3 。</p>
<h2>例子二： Homebrew 安裝 Python 2 與 Python 3 時</h2>
<p>當透過 Homebrew 安裝了 Python2 與 Python 3 後，分別查看 <code>/usr/local/bin</code> 與 <code>/usr/local/opt</code> 時會發現 <code>/usr/local/bin</code> 下的 <code>python</code> 是導向 Homebrew 安裝 Python 2.7.15，如下圖：</p>
<p><img src="../images/20190312-python2-python3-run-on-mac/5-python2-and-python3-location.png" alt="5-python2-and-python3-location"/></p>
<p>然而 <code>/usr/local/opt</code> 則是 <code>python</code> 位置導向 Python3：</p>
<p><img src="../images/20190312-python2-python3-run-on-mac/6-opt-location-python-link.png" alt="6-opt-location-python-link"/></p>
<p>因此當我們分別輸入以下三種指令情況</p>
<div class="highlight"><pre><span></span><code>$&gt; python
$&gt; python2
$&gt; python3
</code></pre></div>

<p>會發現內建的 Python 指令會指定 Homebrew 安裝的 Python 2.7.15:</p>
<p><img src="../images/20190312-python2-python3-run-on-mac/7-test-python2-python3-command.png" alt="7-test-python2-python3-command"/></p>
<p>此原因透過 <code>export</code> 會發現， 因為系統 <code>PATH</code>中會先讀取到的 <code>/usr/local/bin</code> ，因此 Homebrew 的 Python 會取代掉 Mac 內建的 Python 。
再來因為  <code>/usr/local/bin</code> 下的 <code>python</code> 指令是 Link 到 Homebrew 的 <code>python@2</code> ，因此會是執行 Python 2.7 而非 Python 3。</p>
<p><img src="../images/20190312-python2-python3-run-on-mac/8-system-path-order.png" alt="8-system-path-order"/></p>
<p>此時，如果想要把預設的 python 替換成 Homebrew 的 Python3 ，那麼便是如同例子一依樣設定 Python 3 所在的位置 </p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;/usr/local/opt/python/libexec/bin:</span><span class="nv">$PATH</span><span class="s2">&quot;</span>
</code></pre></div>

<p>到環境變數中，如下後再重新開啟 Terminal 或是透過 <code>source</code> 啟動即可。</p>
<p><img src="../images/20190312-python2-python3-run-on-mac/9-python3-order-first-system-path.png" alt="9-python3-order-first-system-path" width="480px"/></p>
<p>此時 <code>PATH</code> 環境變數會先讀取到 Python 3 的位置，並抓取 <code>python</code> 可執行檔。</p>
<p><img src="../images/20190312-python2-python3-run-on-mac/10-python3-order-first-system-path-2.png" alt="10-python3-order-first-system-path-2"/></p>
<p>因此當再次測試 <code>python</code> 指令會發現預設的 <code>python</code> 已經變為 Python 3 的位置。</p>
<div class="highlight"><pre><span></span><code>$&gt; python
$&gt; python2
$&gt; python3
</code></pre></div>

<p><img src="../images/20190312-python2-python3-run-on-mac/11-python3-command-first.png" alt="11-python3-command-first"/></p>
<p>可以透過 <code>python -h</code> 查看路徑：</p>
<p><img src="../images/20190312-python2-python3-run-on-mac/12-python-command-show-python3-path.png" alt="12-python-command-show-python3-path"/></p>
<p>即可設定完成。</p>
<h1>預設 python 指令對 pip 的影響</h1>
<hr>
<p>上述的 <code>python</code> 指令同時也會對 <code>pip</code> 造成影響，如果現在預設的 <code>python</code> 是讀取 Python 3 那麼 <code>pip</code> 也會是 Python 3 的 <code>pip</code>，如下：</p>
<p><img src="../images/20190312-python2-python3-run-on-mac/13-show-pip-path.png" alt="13-show-pip-path"/></p>
<p>如果預設的 <code>python</code> 是讀取 Python 2 ，那麼 <code>pip</code> 則會是 Python 2 的 <code>pip</code> 。</p>
<h2>明確區分 Homebrew Python 2 的來源</h2>
<hr>
<p>上述的設定中，如果想要明確區分  <code>python</code> 指令加入環境變數的來源，也可以對 Homebrew 的 <code>python@2</code> 加入環境變數，如下：</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;/usr/local/opt/python@2/libexec/bin:</span><span class="nv">$PATH</span><span class="s2">&quot;</span>
</code></pre></div>

<p>因此未來便可以透過修改 <code>.bash_profile</code> 去做預設 <code>python</code> 指令讀取設定的開關：</p>
<p><img src="../images/20190312-python2-python3-run-on-mac/14-bash-profile-setting.png" alt="14-bash-profile-setting" width="480px" /></p>
<p>最後觀察一下環境變數，分別設定完成。</p>
<p><img src="../images/20190312-python2-python3-run-on-mac/15-readable-system-path.png" alt="15-readable-system-path"/></p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="https://note.koko.guru/tag/python2">Python2</a>
      <a href="https://note.koko.guru/tag/mac">Mac</a>
      <a href="https://note.koko.guru/tag/python3">Python3</a>
      <a href="https://note.koko.guru/tag/python">Python</a>
    </p>
  </div>





</article>

    <footer>
<p>&copy; kokokuo 2019</p>
<p>    Powered by <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a>
</p>    </footer>
  </main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " koko's Note ",
  "url" : "https://note.koko.guru",
  "image": "/static/koko-logo.png",
  "description": ""
}
</script>

</body>
</html>